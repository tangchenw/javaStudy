## 工厂模式

### 场景介绍

有一个积分兑换系统，里面有第三方爱奇艺VIP兑换卡，实物奖品，优惠券。

| 序号 | 类型               | 接口                                                         |
| ---- | ------------------ | ------------------------------------------------------------ |
| 1    | 优惠券             | `CouponResult sendCoupon(String uId, String couponNumber, String uuid)` |
| 2    | 实物商品           | `Boolean deliverGoods(DeliverReq req)`                       |
| 3    | 第三方爱奇艺兑换卡 | `void grantToken(String bindMobileNumber, String cardId)`    |

**从以上接口来看有如下信息：**

- 三个接口返回类型不同，有对象类型、布尔类型、还有一个空类型。
- 入参不同，发放优惠券需要仿重、兑换卡需要卡ID、实物商品需要发货位置(对象中含有)。
- 另外可能会随着后续的业务的发展，会新增其他种商品类型。因为你所有的开发需求都是随着业务对市场的拓展而带来的。

### 常规思路

创建优惠券实体类...实物商品实体类...第三方爱奇艺VIP实体类...然后创建service层业务类里面写具体业务实现。最后Controller层注入三个业务类，在控制层进行判断用户发起的是那种类型的兑换调用其中接口的方法完成业务功能的实现。

### 工厂模式

创建一个base接口，接口中就一个方法sendShop发送商品，创建3个实现类都去实现这个接口重写里面的sendShop方法，里面就是自己的具体业务实现，然后创建一个工厂类，根据用户兑换商品的不同去创建不同的base接口实现类，返回接口给用户。用户只需要面向接口去调用就行了，而不用去调用具体的实现类去实现功能。

